{"version":3,"sources":["createHead.js"],"names":[],"mappings":"AAAA;;AAEA,IAAI,WAAW,QAAQ,WAAR,CAAf;AACA,IAAI,SAAS,OAAO,mBAApB;;AAEA,IAAI,WAAW,QAAQ,SAAR,CAAf;AAAA,IACI,WAAW,SAAS,QADxB;AAAA,IAEI,WAAW,SAAS,QAFxB;;AAIA,SAAS,gBAAT,CAA0B,KAA1B,EAAiC;AAC/B,MAAI,OAAO,CAAC,KAAD,EAAQ,KAAR,EAAe,IAAf,CAAoB,GAApB,CAAX;;AAEA,MAAI,UAAU,SAAS,OAAT,CAAiB,IAAjB,EAAuB,OAAO,aAA9B,CAAd;AACA,SAAO,QAAQ,QAAR,EAAP;AACD;;AAED,SAAS,iBAAT,CAA2B,KAA3B,EAAkC,KAAlC,EAAyC;AACvC,MAAI,OAAO,CAAC,KAAD,EAAQ,KAAR,EAAe,KAAf,EAAsB,IAAtB,CAA2B,GAA3B,CAAX;AACA,MAAI,UAAU,SAAS,OAAT,CAAiB,IAAjB,EAAuB,OAAO,aAA9B,CAAd;AACA,SAAO,QAAQ,QAAR,EAAP;AACD;;AAED,SAAS,WAAT,CAAqB,IAArB,EAA2B;;AAEzB,MAAI,QAAQ,UAAZ;AACA,MAAI,UAAU;AACZ,iBAAa,OAAO,UADR;AAEZ,gBAAY,CAAC,KAAD,EAAQ,KAAR,EAAe,IAAf,CAAoB,GAApB;AAFA,GAAd;AAIA,MAAI,QAAQ,IAAZ;AACA,MAAI,SAAS,QAAb,EAAuB;AACrB,YAAQ,iBAAiB,KAAjB,CAAR;AACA,YAAQ,IAAR,IAAgB,CAAC,KAAD,EAAQ,IAAR,CAAa,GAAb,CAAhB,CAFqB,CAEc;AACpC,GAHD,MAGO;AACL,QAAI,QAAQ,UAAZ;AACA,YAAQ,kBAAkB,KAAlB,EAAyB,KAAzB,CAAR;AACA,YAAQ,IAAR,IAAgB,CAAC,KAAD,EAAQ,KAAR,EAAe,IAAf,CAAoB,GAApB,CAAhB;AACD;AACD,SAAO,OAAP;AACD;;AAED,OAAO,OAAP,GAAiB,WAAjB","file":"createHead-compiled.js","sourcesContent":["'use strict';\n\nvar CryptoJS = require(\"crypto-js\");\nvar config = window.appSystemConfigInfo;\n\nvar _require = require('./utils'),\n    getTOKEN = _require.getTOKEN,\n    getSTAMP = _require.getSTAMP;\n\nfunction create_AUTH_SIGN(stamp) {\n  var _msg = [stamp, stamp].join(':');\n\n  var _result = CryptoJS.HmacMD5(_msg, config.publisher_key);\n  return _result.toString();\n}\n\nfunction create_TOKEN_SIGN(token, stamp) {\n  var _msg = [token, stamp, stamp].join(':');\n  var _result = CryptoJS.HmacMD5(_msg, config.publisher_key);\n  return _result.toString();\n}\n\nfunction create_Head(type) {\n\n  var stamp = getSTAMP();\n  var _result = {\n    'X-APP-KEY': config.access_key,\n    'X-MSG-ID': [stamp, stamp].join(',')\n  };\n  var _sign = null;\n  if (type === 'X-AUTH') {\n    _sign = create_AUTH_SIGN(stamp);\n    _result[type] = [_sign].join(','); // [_sign,'publisher'].join(',')\n  } else {\n    var token = getTOKEN();\n    _sign = create_TOKEN_SIGN(token, stamp);\n    _result[type] = [token, _sign].join(',');\n  };\n  return _result;\n};\n\nmodule.exports = create_Head;"]}